(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},22:function(e,t,a){e.exports=a(46)},44:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),s=a.n(r),c=a(4),o=a(5),u=a(7),i=a(6),m=a(1),h=a(8),d=(a(11),a(2)),g=a.n(d),b=a(9),p=(a(44),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).state={storage:[],name:"",amount:"",total:0},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleBudgetSubmit=a.handleBudgetSubmit.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.id,e.target.value))}},{key:"handleBudgetSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,amount:this.state.amount},a=this.state.total+Number(this.state.amount);this.setState({total:a});var n=this.state.storage.slice();n.push(t),this.setState({storage:n}),this.state.storage.forEach((function(e){return a+=e.amount}))}},{key:"render",value:function(){var e,t=this;return l.a.createElement("div",{className:"box"},l.a.createElement("table",{className:"table",align:"center"},l.a.createElement("tr",null,l.a.createElement("th",(e={className:"th"},Object(b.a)(e,"className","title"),Object(b.a)(e,"colSpan","2"),e),"Monthly Bills")),l.a.createElement("tr",null,l.a.createElement("th",{className:"th"},"Bill"),l.a.createElement("th",{className:"th"},"Amount($)")),this.state.storage.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null," ",e.name," "),l.a.createElement("td",null," $",e.amount))}))),l.a.createElement("form",{className:"form",onSubmit:this.handleBudgetSubmit},l.a.createElement("label",{className:"label"},"Bill",l.a.createElement("input",{className:"input",type:"text",id:"name",value:this.state.value,onChange:this.handleChange})),l.a.createElement("br",null),l.a.createElement("label",{className:"label"},"Amount",l.a.createElement("input",{className:"input",type:"number",id:"amount",value:this.state.value,onChange:this.handleChange})),l.a.createElement("input",{className:"button is-primary",type:"submit",value:"Submit"})),l.a.createElement("div",null,"Note: Please add all bills one at a time before calculating budget"),l.a.createElement("button",{className:"button is-primary",onClick:function(e){t.props.handler(e,t.state),t.props.render(e)}},"Calculate Budget"))}}]),t}(l.a.Component)),v=a(21),f=a.n(v),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).state={name:"",price:0,date:f()().format("MMM Do YY"),category:"restaurants/bars"},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e,t){var a=e.target.value;"price"===t&&(a=Number(a));var n={};n[t]=a,this.setState(n),console.log(this.state)}},{key:"handleSelect",value:function(e){this.setState({category:e.target.value}),console.log(this.state)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"title"},"Purchase Log"),l.a.createElement("form",null,l.a.createElement("label",{className:"label"},"Name:  "),l.a.createElement("input",{className:"input",onChange:function(t){return e.handleChange(t,"name")}}),l.a.createElement("br",null),l.a.createElement("label",{className:"label"},"Cost: "),l.a.createElement("input",{className:"input",type:"number",onChange:function(t){return e.handleChange(t,"price")}}),l.a.createElement("br",null),l.a.createElement("label",{className:"label",for:"category"},"Category:"," "),l.a.createElement("div",{className:"select is-primary"},l.a.createElement("select",{className:"select is-multiple",onChange:function(t){return e.handleSelect(t)},id:"category",name:"category"},l.a.createElement("option",{value:"restaurants/bars"},"Restaurants/Bars"),l.a.createElement("option",{value:"groceries"},"Groceries"),l.a.createElement("option",{value:"transportation"},"Transportation"),l.a.createElement("option",{value:"recreation"},"Recreation"),l.a.createElement("option",{value:"other"},"Other"))),l.a.createElement("br",null),l.a.createElement("button",{className:"button is-primary",onClick:function(t){return e.props.handler(t,e.state)}},"Submit Purchase")))}}]),t}(l.a.Component);var y=function(e){return l.a.createElement("div",null,l.a.createElement("table",{className:"table"},l.a.createElement("tr",null,l.a.createElement("th",{COLSPAN:"4",className:"tableHeader"},"Expense Log")),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Category"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"Date")),e.expenses.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.category),l.a.createElement("td",null,e.name),l.a.createElement("td",null,"$",e.price),l.a.createElement("td",null,e.date))})))))},B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(i.a)(t).call(this,e))).state={income:0,budgetTotal:0,totalPurchases:0,moneyLeft:0,expensesArray:[],renderIncomeForm:!0,renderBillForm:!1,renderPurchaseLogForm:!1},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.postPurchase=a.postPurchase.bind(Object(m.a)(a)),a.submitPurchase=a.submitPurchase.bind(Object(m.a)(a)),a.submitBudget=a.submitBudget.bind(Object(m.a)(a)),a.getPurchasesTotal=a.getPurchasesTotal.bind(Object(m.a)(a)),a.getPurchasesArr=a.getPurchasesArr.bind(Object(m.a)(a)),a.toggleIncomeForm=a.toggleIncomeForm.bind(Object(m.a)(a)),a.toggleBillForm=a.toggleBillForm.bind(Object(m.a)(a)),a.getBudget=a.getBudget.bind(Object(m.a)(a)),a.calculateBudget=a.calculateBudget.bind(Object(m.a)(a)),a.deleteBudgetButton=a.deleteBudgetButton.bind(Object(m.a)(a)),a.deleteLogs=a.deleteLogs.bind(Object(m.a)(a)),a.deleteLogsButton=a.deleteLogsButton.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getPurchasesTotal().then((function(t){console.log(t.data),t.data.length>0&&e.setState({totalPurchases:t.data[0].amount})})).then(this.calculateBudget),this.getPurchasesArr().then((function(t){return e.setState({expensesArray:t.data})}))}},{key:"getPurchasesArr",value:function(){return g.a.get("/log")}},{key:"getPurchasesTotal",value:function(){return g.a.get("/log/expenses")}},{key:"getBudget",value:function(){return g.a.get("/budget")}},{key:"calculateBudget",value:function(){var e=this;this.getBudget().then((function(t){if(console.log("budget response",t),t.data.length>0){e.setState({renderIncomeForm:!1,renderBillForm:!1,renderPurchaseLogForm:!0});var a=t.data[0].income-t.data[0].bills;e.setState({budgetTotal:a})}})).then((function(){var t=e.state.budgetTotal-e.state.totalPurchases;e.setState({moneyLeft:t}),console.log(e.state)}))}},{key:"handleChange",value:function(e){e.preventDefault(),this.setState({income:e.target.value})}},{key:"submitPurchase",value:function(e,t){this.postPurchase(t).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},{key:"submitBudget",value:function(e,t){e.preventDefault();var a={};a.income=this.state.income,a.bills=t.total,this.postBudget(a).then((function(e){return console.log(e)})).then(this.calculateBudget).catch((function(e){return console.log(e)}))}},{key:"getPurchasesArr",value:function(){return g.a.get("/log")}},{key:"getPurchasesTotal",value:function(){return g.a.get("/log/expenses")}},{key:"getBudget",value:function(){return g.a.get("/budget")}},{key:"deleteBudget",value:function(){return g.a.delete("/budget")}},{key:"deleteLogs",value:function(){return g.a.delete("/log")}},{key:"postBudget",value:function(e){return g.a.post("/budget",e)}},{key:"postPurchase",value:function(e){return g.a.post("/log",e)}},{key:"deleteBudgetButton",value:function(e){var t=this;e.preventDefault(),this.deleteBudget().then(this.calculateBudget()).then((function(){t.setState({renderIncomeForm:!0,renderBillForm:!1,renderPurchaseLogForm:!1})})).catch((function(e){return console.log(e)}))}},{key:"deleteLogsButton",value:function(e){this.deleteLogs().then(this.calculateBudget()),window.location.reload()}},{key:"toggleIncomeForm",value:function(e){e.preventDefault(),this.setState({renderIncomeForm:!1}),this.setState({renderBillForm:!0})}},{key:"toggleBillForm",value:function(e){e.preventDefault(),this.setState({renderBillForm:!1}),this.setState({renderPurchaseLogForm:!0})}},{key:"postBudget",value:function(e){return g.a.post("/budget",e)}},{key:"postPurchase",value:function(e){return g.a.post("/log",e)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"columns"},l.a.createElement("div",{className:"column"},l.a.createElement("h1",{className:"title"},"Frugal.ly"),this.state.renderIncomeForm?l.a.createElement("form",{className:"form"},l.a.createElement("label",{className:"label"},l.a.createElement("div",{className:"title"},"Total Income: "),l.a.createElement("br",null),l.a.createElement("input",{className:"input",type:"number",value:this.state.value,onChange:function(t){return e.handleChange(t)}})),l.a.createElement("button",{className:"button is-primary",onClick:this.toggleIncomeForm},"Submit Income")):null,this.state.renderBillForm?l.a.createElement(p,{render:this.toggleBillForm,handler:this.submitBudget,income:this.state.income}):null,this.state.renderPurchaseLogForm?l.a.createElement("div",null,l.a.createElement(E,{render:this.togglePurchaseLogForm,handler:this.submitPurchase}),l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"label"},"Monthly budget after bills: $",this.state.budgetTotal),l.a.createElement("div",{className:"label"},"Remaining funds: $",this.state.moneyLeft)),l.a.createElement("button",{className:"button is-primary",onClick:this.deleteBudgetButton},"Reset Budget")):null,l.a.createElement(y,{expenses:this.state.expensesArray}),l.a.createElement("button",{className:"button is-primary",onClick:function(t){return e.deleteLogsButton(t)}},"Delete Purchase History")),l.a.createElement("div",{className:"column"},l.a.createElement("h1",{className:"title"},"Spending Chart"),l.a.createElement("div",{id:"chart"})))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.c0ffb31d.chunk.js.map